
<html layout:decorate="~{layout}">
<meta charset="UTF-8">
<div layout:fragment="content" class="container my-3" style="display: flex; flex-direction:column; justify-content: center; align-items: center; min-width: 630px;">

	<div class="my3 border-bottom">
		<div>
			<h4>판매자 신청</h4>
		</div>
	</div>

	<form th:action="@{/user/requestSeller}" th:object="${sellerRequestForm}"
		name="myForm" method="post" onsubmit="return sendIt();" enctype="multipart/form-data">
		
		<!-- html 보안 코드 -->
		<!-- <input type="hidden" th:name="${_csrf.parameterName}"
			th:value="${_csrf.token}"/> -->
	 
		<div th:replace="form_errors :: formErrorsFragment"></div>	
		
		<div class="mb-3">
		    <label for="intro" class="form-label">판매자 설명</label>
		    <div style="display: flex; width: 100%;">
		        <!-- <input type="text" id="intro" name="intro" th:field="*{intro}" size="74" maxlength="100" class="form-control" style="flex: 1; margin-right: 10px;"/> -->
		        <textarea rows="7" cols="50" maxlength="150" id="intro" name="intro" th:field="*{intro}" class="form-control" style="resize: none;"></textarea>
		    </div>
		</div>

		<div class="mb-3">
		    <label for="imageFiles" class="form-label">이미지 첨부</label>
		    <div>
		        <input type="file" id="imageFiles" name="imageFiles" th:field="*{imageFiles}" multiple class="form-control"/>
		    </div>
		</div>
		
		<div class="mb-3">
		    <label for="generalFiles" class="form-label">일반 파일 첨부</label>
		    <div>
		        <input type="file" id="generalFiles" name="generalFiles" th:field="*{generalFiles}" multiple class="form-control"/>
		    </div>
		</div>
		
		<button type="submit" class="btn btn-primary" style="border: 1px solid #5f0080; background-color: #5f0080; color: #fff; display: block;">판매자 요청</button>
	</form>
<script type="text/javascript">

	function sendIt(){
		
		var f = document.myForm;
		
		str = f.intro.value;
		str = str.trim();
		if(!str){
			alert("판매자 설명을 입력하세요.");
			f.intro.focus();
			return false;
		}
		f.intro.value = str;		
		
		// 이미지 또는 일반 파일 중 하나라도 첨부되지 않은 경우
	    if (imageFiles.files.length == 0 && generalFiles.files.length == 0) {
	        alert("이미지 또는 일반 파일 중 하나라도 첨부해주세요.");
	        return false;
	    }
		return true;
	}

</script>
</div>
</html>